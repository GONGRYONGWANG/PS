# [Platinum I] 소가 연세로를 건너간 이유 - 20134 

[문제 링크](https://www.acmicpc.net/problem/20134) 

### 성능 요약

메모리: 99308 KB, 시간: 1708 ms

### 분류

조합론, 자료 구조, 수학, 세그먼트 트리

### 제출 일자

2024년 12월 5일 22:41:11

### 문제 설명

<p>소가 왜 길을 건너는지에 대한 문제는 유명한 문제로, 농부 존의 소들이 길을 자주 건넌다는 것은 잘 알려진 사실이다. 그래서 존의 소들이 연세대학교에 와서 연세로를 건너려고 한다.</p>

<p>연세로 양쪽에 동서로 목초지가 평행하게 일렬로 1번부터 <em>N</em>번까지 있다. 서쪽의 <em>i</em>번 목초지에는 <em>l<sub>i</sub></em>번 소를, 동쪽의 <em>i</em>번 목초지에는 <em>r<sub>i</sub></em>번 소를 방목한다. 2017년 백금색의 길에 있는 목초지처럼 종별로 목초지 구조가 너무 달라서 한 목초지에는 정해진 종의 소만 방목할 수 있다. 즉, <em>i</em>번 목초지에는 <em>i</em>번 소만 방목할 수 있다. 소가 자신의 종을 방목하는 반대편의 목초지로 이동할 때 연세로를 건넌다고 한다.</p>

<p>목초지의 순서가 뒤죽박죽이어서, <em>a</em> 종의 소와 <em>b</em> 종의 소가 건너는 길이 겹칠 수도 있다. 존이 목초지 건설에 주의를 기울이지 않은 탓이다. 이때 (<em>a</em>, <em>b</em>)를 "가로지르는 쌍"이라고 하자.</p>

<p>존은 가로지르는 쌍의 수를 계산하기에 앞서, 2017년 백금색의 길을 건널 때랑 조금 다른 방법을 고안했다. 0 ≤ <em>k<sub>1</sub></em>, <em>k<sub>2</sub></em> < N인 정수 <em>k<sub>1</sub></em>, <em>k<sub>2</sub></em>에 대해서 한쪽 목초지에서 맨 뒤에 있는 목초지 <em>k<sub>1</sub></em>개를 맨 앞으로 옮기고, 다른 쪽 목초지에서 맨 뒤에 있는 <em>k<sub>2</sub></em>개를 맨 앞으로 순서 변경 없이 옮기는 것이다. 하지만, 존은 <em>k<sub>1</sub>과 k<sub>2</sub></em>를 무엇으로 할지 아직 정하지 않았다.</p>

<p>모든 0 ≤ <em>k<sub>1</sub></em>, <em>k<sub>2</sub></em> < <em>N</em>에 대해서 가로지르는 쌍의 개수의 합을 1,000,000,009로 나눈 나머지를 구하여라.</p>

### 입력 

 <p>다음과 같이 입력이 주어진다.</p>

<div style="background:#eeeeee;border:1px solid #cccccc;padding:5px 10px;"><em>N</em><br>
<i>l<sub>1</sub></i> . . . <i>l<sub>N</sub></i><br>
<i>r<sub>N</sub></i> . . . <i>r<sub>N</sub></i></div>

### 출력 

 <p>가로지르는 쌍의 개수의 합을 1,000,000,009로 나눈 나머지를 출력한다.</p>

