# [Platinum V] 영우와 ‘갓4’ - 14679 

[문제 링크](https://www.acmicpc.net/problem/14679) 

### 성능 요약

메모리: 2024 KB, 시간: 828 ms

### 분류

분할 정복을 이용한 거듭제곱, 구현, 수학, 시뮬레이션

### 제출 일자

2024년 10월 9일 18:17:12

### 문제 설명

<p>게임을 좋아하는 영우는 오늘도 ‘갓4’ 라는 게임을 한다. ‘갓4’의 게임 시스템은 신기한데 우선 캐릭터와 몬스터는 각각 공격력(A), 방어력(D), 최대 체력(H)이 주어진다. ‘갓4’의 전투 시스템은 1:1 전투이며 다음과 같다.</p>

<ol>
	<li>자기의 턴이 오면 상대방을 공격할 수 있으며, [(자신의 공격력 – 상대방의 방어력), 1] 중에 더 높은값만큼 상대방의 체력을 깎는다.</li>
	<li>공격이 끝나면 상대 턴으로 넘어간다.</li>
	<li>어느 한쪽의 체력이 0 이하로 떨어질 때까지 계속하며, 먼저 체력이 0 이하로 떨어진 쪽이 진다.</li>
	<li>모든 전투는 영우의 캐릭터가 먼저 공격한다.</li>
</ol>

<p>또한 몬스터와의 전투에서 승리하면 캐릭터는 몬스터의 능력치를 그대로 흡수한다. 즉 (5, 5, 5)의 능력치를 가진 캐릭터가 (1, 1, 1)의 능력치를 가진 몬스터와 싸워 승리하면 캐릭터는 (6, 6, 6)의 능력치를 가지게 되는 것이다. 또한 몬스터와의 전투에서 승리하면 캐릭터는 다시 체력을 최대치까지 회복한다. 영우는 총 N마리의 몬스터를 연속해서 지지않고 잡고 싶다. 즉 모든 몬스터와의 전투에서 이겨야 한다는 뜻이다. N마리 몬스터의 데이터를 모두 입력으로 주기에는 데이터의 크기가 너무 커지므로 다음과 같이 수식으로 대체하도록 했다.</p>

<p>k번째(k > 1) 몬스터의 공격력(A<sub>k</sub>), 방어력(D<sub>k</sub>), 최대 체력(H<sub>k</sub>)는 다음과 같다.</p>

<ul>
	<li>A<sub>k</sub> = ((A<sub>k-1</sub><sup>A<sub>p</sub></sup> + A<sub>a</sub>) % 100) + 1</li>
	<li>D<sub>k</sub> = ((D<sub>k-1</sub><sup>D<sub>p</sub></sup> + D<sub>a</sub>) % 3) + 1</li>
	<li>H<sub>k</sub> = ((H<sub>k-1</sub><sup>H<sub>p</sub></sup> + H<sub>a</sub>) % 1000) + 1</li>
</ul>

### 입력 

 <p>프로그램의 입력은 표준 입력으로 받는다. 입력의 첫 줄에는 몬스터의 수 N이 주어진다. (1 ≤ N ≤ 50,000,000) 두 번째 줄에는 영우가 키우는 캐릭터의 공격력(A), 방어력(D), 최대 체력(H)이 차례대로 주어진다. (1 ≤ A ≤ 100) (1 ≤ D ≤ 3) (1 ≤ H ≤ 1000) 세 번째 줄에는 첫 번째 몬스터의 공격력(MA), 방어력(MD), 최대 체력(MH)이 차례대로 주어진다. (1 ≤ MA ≤ 100) (1 ≤ MD ≤ 3) (1 ≤ MH ≤ 1000) 넷째 줄에 몬스터의 능력치를 구하는데 사용되는 값(A<sub>p</sub>, A<sub>a</sub>, D<sub>p</sub>, D<sub>a</sub>, H<sub>p</sub>, H<sub>a</sub>)이 차례대로 주어진다. (1 ≤ A<sub>p</sub>, D<sub>p</sub>, H<sub>p</sub> ≤ 1,000,000,000) (0 ≤ A<sub>a</sub> ≤ 99) (0 ≤ D<sub>a</sub> ≤ 2) (0 ≤ H<sub>a</sub> ≤ 999) </p>

### 출력 

 <p>프로그램의 출력은 표준 출력으로 한다. 영우가 N마리의 몬스터를 잡았을 때 갖는 최종 능력치를 1,000,000,007로 나눈 나머지를 공격력(A), 방어력(D), 최대 체력(H) 순으로 공백으로 구분하여 출력한다. 만약영우가 N마리의 몬스터를 연속해서 잡을 수 없다면 -1을 출력한다. </p>

